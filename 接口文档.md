# MindMOOC ä¸šåŠ¡æµç¨‹

## API åˆ—è¡¨

### ğŸ” ç”¨æˆ·æ¨¡å—ï¼ˆä¸éœ€è®¤è¯ï¼‰

- `POST /api/users/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/users/login` - ç”¨æˆ·ç™»å½•

### ğŸ‘¤ ç”¨æˆ·æ¨¡å—ï¼ˆéœ€è®¤è¯ï¼‰

- `GET /api/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/users/me` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `GET /api/users/{userId}` - è·å–æŒ‡å®šç”¨æˆ·ä¿¡æ¯

### ğŸ¬ è§†é¢‘æ¨¡å—

- `POST /api/videos/upload` - ä¸Šä¼ è§†é¢‘ï¼ˆmultipart/form-dataï¼‰
- `GET /api/videos/{videoId}` - è·å–è§†é¢‘ä¿¡æ¯
- `GET /api/videos/list?pageNum=1&pageSize=10` - è·å–è§†é¢‘åˆ—è¡¨
- `DELETE /api/videos/{videoId}` - åˆ é™¤è§†é¢‘

### ğŸ“ ä»»åŠ¡æ¨¡å—

- `POST /api/tasks` - åˆ›å»ºä»»åŠ¡
- `GET /api/tasks/{taskId}` - è·å–ä»»åŠ¡è¯¦æƒ…
- `GET /api/tasks/my?pageNum=1&pageSize=10` - è·å–æˆ‘çš„ä»»åŠ¡åˆ—è¡¨

### ğŸ—ºï¸ æ€ç»´å¯¼å›¾æ¨¡å—

- `GET /api/mindmaps/{mindmapId}` - è·å–æ€ç»´å¯¼å›¾
- `GET /api/mindmaps/task/{taskId}` - æ ¹æ®ä»»åŠ¡IDè·å–æ€ç»´å¯¼å›¾
- `GET /api/mindmaps/my?pageNum=1&pageSize=10` - è·å–æˆ‘çš„æ€ç»´å¯¼å›¾åˆ—è¡¨
- `GET /api/mindmaps/{mindmapId}/nodes` - è·å–èŠ‚ç‚¹åˆ—è¡¨ï¼ˆæ ‘å½¢ç»“æ„ï¼‰
- `POST /api/mindmapNodes/{mindmapId}/nodes` - æ·»åŠ èŠ‚ç‚¹
- `PUT /api/mindmapNodes/nodes/{nodeId}` - æ›´æ–°èŠ‚ç‚¹
- `DELETE /api/mindmapNodes/nodes/{nodeId}` - åˆ é™¤èŠ‚ç‚¹
- `POST /api/mindmaps/{mindmapId}/regenerate` - é‡æ–°ç”Ÿæˆ Mermaid ä»£ç 

### ğŸ’¬ åé¦ˆæ¨¡å—

- `POST /api/feedback` - æäº¤åé¦ˆï¼ˆæ”¯æŒåŒ¿åï¼‰
- `GET /api/feedback/{feedbackId}` - è·å–åé¦ˆè¯¦æƒ…
- `GET /api/feedback/my?pageNum=1&pageSize=10` - è·å–æˆ‘çš„åé¦ˆåˆ—è¡¨
- `GET /api/feedback/all?pageNum=1&pageSize=10&status=open` - è·å–æ‰€æœ‰åé¦ˆï¼ˆç®¡ç†å‘˜ï¼‰
- `PUT /api/feedback/{feedbackId}/status?status=closed` - æ›´æ–°åé¦ˆçŠ¶æ€ï¼ˆç®¡ç†å‘˜ï¼‰

### ğŸ”§ å†…éƒ¨æ¥å£ï¼ˆç”± Flask AI æœåŠ¡è°ƒç”¨ï¼‰

- `POST /api/internal/tasks/callback` - AI æœåŠ¡å›è°ƒæ¥å£



****

## å®Œæ•´ä¸šåŠ¡æµç¨‹ç¤ºä¾‹

### åœºæ™¯ï¼šç”¨æˆ·ä¸Šä¼ è§†é¢‘å¹¶ç”Ÿæˆæ€ç»´å¯¼å›¾

#### æ­¥éª¤ 1ï¼šç”¨æˆ·æ³¨å†Œ/ç™»å½•

```bash
# ç™»å½•
curl -X POST http://localhost/api/users/login \
  -H "Content-Type: application/json" \
  -d '{"username":"testuser","password":"123456"}'

# ä¿å­˜è¿”å›çš„ token
TOKEN="eyJhbGciOiJIUzI1NiJ9..."
```

#### æ­¥éª¤ 2ï¼šä¸Šä¼ è§†é¢‘

```bash
curl -X POST http://localhost/api/videos/upload \
  -H "Authorization: Bearer $TOKEN" \
  -F "file=@/path/to/video.mp4" \
  -F "videoTitle=æˆ‘çš„æ…•è¯¾è§†é¢‘"

# ä¿å­˜è¿”å›çš„ videoId
VIDEO_ID="video-id-xxx"
```

#### æ­¥éª¤ 3ï¼šåˆ›å»ºä»»åŠ¡

```bash
curl -X POST http://localhost/api/tasks \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d "{\"videoId\":\"$VIDEO_ID\",\"taskType\":\"common\"}"

# ä¿å­˜è¿”å›çš„ taskId
TASK_ID="task-id-xxx"
```

#### æ­¥éª¤ 4ï¼šæŸ¥è¯¢ä»»åŠ¡çŠ¶æ€

```bash
curl -X GET http://localhost/api/tasks/$TASK_ID \
  -H "Authorization: Bearer $TOKEN"

# ä»»åŠ¡çŠ¶æ€ï¼špending -> processing -> completed
```

#### æ­¥éª¤ 5ï¼šè·å–æ€ç»´å¯¼å›¾

```bash
# ä»»åŠ¡å®Œæˆåï¼Œæ ¹æ®ä»»åŠ¡IDè·å–æ€ç»´å¯¼å›¾
curl -X GET http://localhost/api/mindmaps/task/$TASK_ID \
  -H "Authorization: Bearer $TOKEN"

# ä¿å­˜è¿”å›çš„ mindmapId
MINDMAP_ID="mindmap-id-xxx"
```

#### æ­¥éª¤ 6ï¼šä¿®æ”¹æ€ç»´å¯¼å›¾èŠ‚ç‚¹

```bash
# æ·»åŠ èŠ‚ç‚¹
curl -X POST http://localhost/api/mindmapNodes/$MINDMAP_ID/nodes \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"parentId":"parent-node-id","content":"æ–°èŠ‚ç‚¹å†…å®¹","startTime":10,"endTime":20,"nodeOrder":1}'

# æ›´æ–°èŠ‚ç‚¹
curl -X PUT http://localhost/api/mindmapNodes/nodes/node-id-xxx \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"content":"æ›´æ–°åçš„èŠ‚ç‚¹å†…å®¹"}'

# åˆ é™¤èŠ‚ç‚¹
curl -X DELETE http://localhost/api/mindmapNodes/nodes/node-id-xxx \
  -H "Authorization: Bearer $TOKEN"
```

#### æ­¥éª¤ 7ï¼šé‡æ–°ç”Ÿæˆ Mermaid ä»£ç 

```bash
curl -X POST http://localhost/api/mindmaps/$MINDMAP_ID/regenerate \
  -H "Authorization: Bearer $TOKEN"
```



****

## business-service æ¥å£è¯¦ç»†è¯´æ˜

### é€šç”¨è¯´æ˜

- **ç»Ÿä¸€å“åº”ç»“æ„ `Result<T>`**
  
  - æ‰€æœ‰ä¸šåŠ¡æ¥å£ï¼ˆé™¤ `/api/test`ï¼‰ç»Ÿä¸€è¿”å›ï¼š
    
    ```json
    {
      "code": 200,
      "message": "æ“ä½œæˆåŠŸ",
      "data": {}
    }
    ```
  - **code**: `number`ï¼Œ`200` è¡¨ç¤ºæˆåŠŸï¼Œå…¶å®ƒä¸ºé”™è¯¯ã€‚
  - **message**: `string`ï¼Œæç¤ºä¿¡æ¯ã€‚
  - **data**: `any`ï¼Œå…·ä½“ä¸šåŠ¡æ•°æ®æˆ– `null`ã€‚

- **åˆ†é¡µè¿”å›ç»“æ„ `IPage<T>`ï¼ˆMyBatis-Plusï¼‰**
  
  - æ‰€æœ‰åˆ†é¡µæ¥å£ `data` ç»“æ„ç±»ä¼¼ï¼š
    
    ```json
    {
      "records": [],
      "total": 100,
      "size": 10,
      "current": 1,
      "pages": 10
    }
    ```

- **è®¤è¯ä¸ç”¨æˆ·æ ‡è¯†**
  
  - å‰ç«¯åªéœ€åœ¨ç½‘å…³å±‚æºå¸¦ï¼š`Authorization: Bearer <token>`ã€‚
  - ç½‘å…³æ ¡éªŒé€šè¿‡åä¼šå‘ä¸šåŠ¡æœåŠ¡è½¬å‘è¯·æ±‚ï¼Œå¹¶è‡ªåŠ¨æ³¨å…¥ï¼š`X-User-Id: <ç”¨æˆ·ID>`ã€‚

---

### æ•°æ®æ¨¡å‹ï¼ˆDTO / VOï¼‰

- **RegisterRequestï¼ˆæ³¨å†Œè¯·æ±‚ä½“ï¼‰**
  
  - **username**: `string`ï¼Œå¿…å¡«ï¼Œ3â€“50 å­—ç¬¦ã€‚
  - **email**: `string`ï¼Œå¿…å¡«ï¼Œé‚®ç®±æ ¼å¼ã€‚
  - **password**: `string`ï¼Œå¿…å¡«ï¼Œ6â€“20 å­—ç¬¦ã€‚

- **LoginRequestï¼ˆç™»å½•è¯·æ±‚ä½“ï¼‰**
  
  - **username**: `string`ï¼Œå¿…å¡«ï¼Œç”¨æˆ·åæˆ–é‚®ç®±ã€‚
  - **password**: `string`ï¼Œå¿…å¡«ã€‚

- **UpdateUserRequestï¼ˆæ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼‰**
  
  - **username**: `string`ï¼Œå¯é€‰ï¼Œæ–°ç”¨æˆ·åã€‚
  - **email**: `string`ï¼Œå¯é€‰ï¼Œæ–°é‚®ç®±ã€‚
  - **avatarUrl**: `string`ï¼Œå¯é€‰ï¼Œæ–°å¤´åƒ URLã€‚

- **UserVOï¼ˆç”¨æˆ·ä¿¡æ¯è¿”å›ï¼‰**
  
  - **id**: `string`ï¼Œç”¨æˆ·IDã€‚
  - **username**: `string`ã€‚
  - **email**: `string`ã€‚
  - **avatarUrl**: `string`ã€‚
  - **role**: `number`ï¼Œ`0=æ™®é€šç”¨æˆ·`ï¼Œ`1=ç®¡ç†å‘˜`ã€‚
  - **createdAt**: `string`ï¼Œæ—¶é—´æˆ³ã€‚

- **LoginResponseï¼ˆç™»å½•å“åº”ï¼‰**
  
  - **token**: `string`ï¼ŒJWT Tokenã€‚
  - **user**: `UserVO`ã€‚

- **VideoVOï¼ˆè§†é¢‘ä¿¡æ¯è¿”å›ï¼‰**
  
  - **id**: `string`ï¼Œè§†é¢‘IDã€‚
  - **originalFilename**: `string`ï¼ŒåŸå§‹æ–‡ä»¶åã€‚
  - **videoTitle**: `string`ï¼Œè§†é¢‘æ ‡é¢˜ã€‚
  - **duration**: `number`ï¼Œæ—¶é•¿ï¼ˆç§’ï¼‰ã€‚
  - **fileSize**: `number`ï¼Œå¤§å°ï¼ˆå­—èŠ‚ï¼‰ã€‚
  - **mimeType**: `string`ï¼ŒMIME ç±»å‹ã€‚
  - **storageUrl**: `string`ï¼Œè®¿é—® URLã€‚
  - **createdAt**: `string`ã€‚

- **CreateTaskRequestï¼ˆåˆ›å»ºä»»åŠ¡è¯·æ±‚ä½“ï¼‰**
  
  - **videoId**: `string`ï¼Œå¿…å¡«ï¼Œè§†é¢‘IDã€‚
  - **title**: `string`ï¼Œå¿…å¡«ï¼Œä»»åŠ¡åç§°ã€‚
  - **requirement**: `string`ï¼Œå¯é€‰ï¼Œä»»åŠ¡è¦æ±‚ã€‚
  - **taskType**: `string`ï¼Œå¯é€‰ï¼Œé»˜è®¤ `"common"`ã€‚

- **TaskVOï¼ˆä»»åŠ¡è¿”å›ï¼‰**
  
  - **id**: `string`ï¼Œä»»åŠ¡IDã€‚
  - **userId**: `string`ã€‚
  - **videoId**: `string`ã€‚
  - **video**: `VideoVO`ã€‚
  - **title**: `string`ã€‚
  - **requirement**: `string`ã€‚
  - **status**: `string`ï¼Œ`pending / processing / completed / failed` ç­‰ã€‚
  - **taskType**: `string`ã€‚
  - **errorDetails**: `string`ï¼Œé”™è¯¯è¯¦æƒ…ã€‚
  - **createdAt / startedAt / completedAt**: `string`ã€‚

- **CreateFeedbackRequestï¼ˆåˆ›å»ºåé¦ˆè¯·æ±‚ä½“ï¼‰**
  
  - **type**: `string`ï¼Œå¿…å¡«ï¼Œåé¦ˆç±»å‹ï¼ˆå¦‚ `bug / suggestion / other`ï¼‰ã€‚
  - **details**: `string`ï¼Œå¿…å¡«ï¼Œåé¦ˆå†…å®¹ã€‚

- **FeedbackVOï¼ˆåé¦ˆè¿”å›ï¼‰**
  
  - **id**: `string`ã€‚
  - **userId**: `string`ã€‚
  - **type**: `string`ã€‚
  - **details**: `string`ã€‚
  - **status**: `string`ã€‚
  - **createdAt**: `string`ã€‚

- **UpdateNodeRequestï¼ˆæ–°å¢/æ›´æ–°èŠ‚ç‚¹è¯·æ±‚ä½“ï¼‰**
  
  - **parentId**: `string`ï¼Œçˆ¶èŠ‚ç‚¹IDï¼Œå¯é€‰ã€‚
  - **content**: `string`ï¼ŒèŠ‚ç‚¹å†…å®¹ï¼Œå¯é€‰ä½†æ¨èå¡«å†™ã€‚
  - **startTime**: `number`ï¼Œèµ·å§‹æ—¶é—´ï¼ˆç§’ï¼‰ã€‚
  - **endTime**: `number`ï¼Œç»“æŸæ—¶é—´ï¼ˆç§’ï¼‰ã€‚
  - **nodeOrder**: `number`ï¼ŒèŠ‚ç‚¹é¡ºåºã€‚

- **NodeVOï¼ˆæ€ç»´å¯¼å›¾èŠ‚ç‚¹è¿”å›ï¼‰**
  
  - **id**: `string`ï¼ŒèŠ‚ç‚¹IDã€‚
  - **mapId**: `string`ï¼Œå¯¼å›¾IDã€‚
  - **parentId**: `string`ã€‚
  - **content**: `string`ã€‚
  - **startTime / endTime**: `number`ã€‚
  - **nodeOrder**: `number`ã€‚
  - **children**: `NodeVO[]`ï¼Œå­èŠ‚ç‚¹ã€‚
  - **createdAt / updatedAt**: `string`ã€‚

- **MindmapVOï¼ˆæ€ç»´å¯¼å›¾è¿”å›ï¼‰**
  
  - **id**: `string`ï¼Œå¯¼å›¾IDã€‚
  - **userId**: `string`ã€‚
  - **videoId**: `string`ã€‚
  - **video**: `VideoVO`ã€‚
  - **taskId**: `string`ã€‚
  - **title**: `string`ã€‚
  - **summary**: `string`ï¼Œè§†é¢‘æ¦‚è¦ã€‚
  - **mermaidCode**: `string`ï¼ŒMermaid ä»£ç ã€‚
  - **nodes**: `NodeVO[]`ã€‚
  - **createdAt / updatedAt**: `string`ã€‚

- **AiCallbackRequestï¼ˆAI å›è°ƒè¯·æ±‚ä½“ï¼‰**
  
  - **taskId**: `string`ã€‚
  - **status**: `string`ï¼Œ`success` æˆ– `failed`ã€‚
  - **mermaidCode**: `string`ã€‚
  - **summary**: `string`ã€‚
  - **errorMessage**: `string`ã€‚
  - **originalOutput**: `string`ï¼ŒJSON å­—ç¬¦ä¸²ã€‚

---

### Controller æ¥å£

#### 1. UserControllerï¼ˆ`/api/users`ï¼‰

- **POST /api/users/register** â€” ç”¨æˆ·æ³¨å†Œ  
  
  - è¯·æ±‚å¤´ï¼š`Content-Type: application/json`  
  - è¯·æ±‚ä½“ï¼š`RegisterRequest`  
    
    ```json
    {
      "username": "alice",
      "email": "alice@example.com",
      "password": "123456"
    }
    ```
  - è¿”å›ï¼š`Result<UserVO>`

- **POST /api/users/login** â€” ç”¨æˆ·ç™»å½•  
  
  - è¯·æ±‚å¤´ï¼š`Content-Type: application/json`  
  - è¯·æ±‚ä½“ï¼š`LoginRequest`  
  - è¿”å›ï¼š`Result<LoginResponse>`ï¼ˆå« `token` å’Œ `user`ï¼‰

- **GET /api/users/me** â€” è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯  
  
  - è¯·æ±‚å¤´ï¼š`Authorization: Bearer <token>`ï¼ˆç»ç½‘å…³è½¬ä¸º `X-User-Id`ï¼‰  
  - è¿”å›ï¼š`Result<UserVO>`

- **GET /api/users/{userId}** â€” è·å–æŒ‡å®šç”¨æˆ·ä¿¡æ¯  
  
  - è·¯å¾„å‚æ•°ï¼š`userId: string`  
  - è¿”å›ï¼š`Result<UserVO>`

- **PUT /api/users/me** â€” æ›´æ–°å½“å‰ç”¨æˆ·ä¿¡æ¯  
  
  - è¯·æ±‚å¤´ï¼š`Authorization: Bearer <token>`ï¼Œ`Content-Type: application/json`  
  - è¯·æ±‚ä½“ï¼š`UpdateUserRequest`  
  - è¿”å›ï¼š`Result<UserVO>`

#### 2. VideoControllerï¼ˆ`/api/videos`ï¼‰

- **POST /api/videos/upload** â€” ä¸Šä¼ è§†é¢‘  
  
  - è¯·æ±‚å¤´ï¼š`Content-Type: multipart/form-data`  
  - è¡¨å•å­—æ®µï¼š
    - `file`: è§†é¢‘æ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶ï¼Œå¿…å¡«ï¼‰
    - `videoTitle`: `string`ï¼Œå¯é€‰
  - è¿”å›ï¼š`Result<VideoVO>`

- **GET /api/videos/{videoId}** â€” è·å–è§†é¢‘ä¿¡æ¯  
  
  - è·¯å¾„å‚æ•°ï¼š`videoId: string`  
  - è¿”å›ï¼š`Result<VideoVO>`

- **GET /api/videos/list** â€” è·å–è§†é¢‘åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰  
  
  - æŸ¥è¯¢å‚æ•°ï¼š`pageNum`ï¼ˆé»˜è®¤ 1ï¼‰ï¼Œ`pageSize`ï¼ˆé»˜è®¤ 10ï¼‰  
  - è¿”å›ï¼š`Result<IPage<VideoVO>>`

- **DELETE /api/videos/{videoId}** â€” åˆ é™¤è§†é¢‘  
  
  - è·¯å¾„å‚æ•°ï¼š`videoId: string`  
  - è¿”å›ï¼š`Result<Void>`

#### 3. TaskControllerï¼ˆ`/api/tasks`ï¼‰

- **POST /api/tasks** â€” åˆ›å»ºä»»åŠ¡  
  
  - è¯·æ±‚å¤´ï¼š`Authorization: Bearer <token>`ï¼Œ`Content-Type: application/json`  
  - è¯·æ±‚ä½“ï¼š`CreateTaskRequest`  
    
    ```json
    {
      "videoId": "video-123",
      "title": "å­¦ä¹ ä»»åŠ¡1",
      "requirement": "è¯·ç”Ÿæˆæ€ç»´å¯¼å›¾",
      "taskType": "common"
    }
    ```
  - è¿”å›ï¼š`Result<TaskVO>`

- **GET /api/tasks/{taskId}** â€” è·å–ä»»åŠ¡è¯¦æƒ…  
  
  - è·¯å¾„å‚æ•°ï¼š`taskId: string`  
  - è¿”å›ï¼š`Result<TaskVO>`

- **GET /api/tasks/my** â€” è·å–å½“å‰ç”¨æˆ·ä»»åŠ¡åˆ—è¡¨  
  
  - è¯·æ±‚å¤´ï¼š`Authorization: Bearer <token>`  
  - æŸ¥è¯¢å‚æ•°ï¼š`pageNum`ï¼Œ`pageSize`  
  - è¿”å›ï¼š`Result<IPage<TaskVO>>`

#### 4. MindmapControllerï¼ˆ`/api/mindmaps`ï¼‰

- **GET /api/mindmaps/{mindmapId}** â€” æ ¹æ®å¯¼å›¾IDè·å–æ€ç»´å¯¼å›¾  
  
  - è·¯å¾„å‚æ•°ï¼š`mindmapId: string`  
  - è¿”å›ï¼š`Result<MindmapVO>`

- **GET /api/mindmaps/task/{taskId}** â€” æ ¹æ®ä»»åŠ¡IDè·å–æ€ç»´å¯¼å›¾  
  
  - è·¯å¾„å‚æ•°ï¼š`taskId: string`  
  - è¿”å›ï¼š`Result<MindmapVO>`

- **GET /api/mindmaps/my** â€” è·å–å½“å‰ç”¨æˆ·æ€ç»´å¯¼å›¾åˆ—è¡¨  
  
  - è¯·æ±‚å¤´ï¼š`Authorization: Bearer <token>`  
  - æŸ¥è¯¢å‚æ•°ï¼š`pageNum`ï¼Œ`pageSize`  
  - è¿”å›ï¼š`Result<IPage<MindmapVO>>`

- **GET /api/mindmaps/{mindmapId}/nodes** â€” è·å–å¯¼å›¾èŠ‚ç‚¹æ ‘  
  
  - è·¯å¾„å‚æ•°ï¼š`mindmapId: string`  
  - è¿”å›ï¼š`Result<NodeVO[]>`

- **POST /api/mindmaps/{mindmapId}/regenerate** â€” é‡æ–°ç”Ÿæˆ Mermaid ä»£ç   
  
  - è·¯å¾„å‚æ•°ï¼š`mindmapId: string`  
  - è¿”å›ï¼š`Result<string>`ï¼ˆ`data` ä¸ºæ–°çš„ Mermaid ä»£ç ï¼‰

#### 5. MindmapNodeControllerï¼ˆ`/api/mindmapNodes`ï¼‰

- **POST /api/mindmapNodes/{mindmapId}/nodes** â€” æ·»åŠ èŠ‚ç‚¹  
  
  - è·¯å¾„å‚æ•°ï¼š`mindmapId: string`  
  - è¯·æ±‚ä½“ï¼š`UpdateNodeRequest`  
  - è¿”å›ï¼š`Result<NodeVO>`

- **PUT /api/mindmapNodes/nodes/{nodeId}** â€” æ›´æ–°èŠ‚ç‚¹  
  
  - è·¯å¾„å‚æ•°ï¼š`nodeId: string`  
  - è¯·æ±‚ä½“ï¼š`UpdateNodeRequest`  
  - è¿”å›ï¼š`Result<NodeVO>`

- **DELETE /api/mindmapNodes/nodes/{nodeId}** â€” åˆ é™¤èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹  
  
  - è·¯å¾„å‚æ•°ï¼š`nodeId: string`  
  - è¿”å›ï¼š`Result<Void>`

#### 6. FeedbackControllerï¼ˆ`/api/feedback`ï¼‰

- **POST /api/feedback** â€” åˆ›å»ºåé¦ˆ  
  
  - è¯·æ±‚å¤´ï¼š`Authorization: Bearer <token>`ï¼Œ`Content-Type: application/json`  
  - è¯·æ±‚ä½“ï¼š`CreateFeedbackRequest`  
    
    ```json
    {
      "type": "bug",
      "details": "è¯¾ç¨‹æ’­æ”¾åˆ° 1:23 ä¼šå¡æ­»"
    }
    ```
  - è¿”å›ï¼š`Result<FeedbackVO>`

- **GET /api/feedback/{feedbackId}** â€” è·å–åé¦ˆè¯¦æƒ…  
  
  - è·¯å¾„å‚æ•°ï¼š`feedbackId: string`  
  - è¿”å›ï¼š`Result<FeedbackVO>`

- **GET /api/feedback/my** â€” è·å–å½“å‰ç”¨æˆ·åé¦ˆåˆ—è¡¨  
  
  - è¯·æ±‚å¤´ï¼š`Authorization: Bearer <token>`  
  - æŸ¥è¯¢å‚æ•°ï¼š`pageNum`ï¼Œ`pageSize`  
  - è¿”å›ï¼š`Result<IPage<FeedbackVO>>`

- **GET /api/feedback/all** â€” è·å–æ‰€æœ‰åé¦ˆåˆ—è¡¨ï¼ˆç®¡ç†å‘˜ï¼‰  
  
  - æŸ¥è¯¢å‚æ•°ï¼š`pageNum`ï¼Œ`pageSize`ï¼Œ`status`ï¼ˆå¯é€‰ï¼‰  
  - è¿”å›ï¼š`Result<IPage<FeedbackVO>>`

- **PUT /api/feedback/{feedbackId}/status** â€” æ›´æ–°åé¦ˆçŠ¶æ€ï¼ˆç®¡ç†å‘˜ï¼‰  
  
  - è·¯å¾„å‚æ•°ï¼š`feedbackId: string`  
  - æŸ¥è¯¢å‚æ•°ï¼š`status: string`  
  - è¿”å›ï¼š`Result<FeedbackVO>`

#### 7. InternalControllerï¼ˆ`/api/internal`ï¼‰

- **POST /api/internal/tasks/callback** â€” AI æœåŠ¡å›è°ƒæ¥å£  
  - è¯·æ±‚å¤´ï¼š`Content-Type: application/json`  
  - è¯·æ±‚ä½“ï¼š`AiCallbackRequest`  
  - è¿”å›ï¼š`Result<Void>`ï¼ˆæˆåŠŸæ—¶ `data = null`ï¼‰  
  - ç”¨äº AI æœåŠ¡å¼‚æ­¥å›ä¼ ä»»åŠ¡ç»“æœã€Mermaid ä»£ç å’ŒèŠ‚ç‚¹ä¿¡æ¯ï¼Œå‰ç«¯ä¸è°ƒç”¨ã€‚

#### 8. TestControllerï¼ˆ`/api`ï¼‰

- **GET /api/test** â€” æµ‹è¯•æ¥å£  
  - æ— éœ€è®¤è¯ï¼Œç›´æ¥è¿”å›å­—ç¬¦ä¸² `"æµ‹è¯•æˆåŠŸ"`ï¼ˆä¸åŒ…è£¹åœ¨ `Result` ä¸­ï¼‰ã€‚
